import{c as h,r as n,j as e,a as D,R as M}from"./createLucideIcon.js";import{S as R,R as L,a as E}from"./search.js";/* empty css          *//**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=h("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=h("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function T(){const[c,p]=n.useState([]),[d,x]=n.useState([]),[i,y]=n.useState(""),[b,m]=n.useState(!0),[o,f]=n.useState({total:0,correct:0,sizeKB:0});n.useEffect(()=>{l()},[]),n.useEffect(()=>{j()},[i,c]);const l=async()=>{m(!0);try{const t=await chrome.runtime.sendMessage({action:"getAllSavedData"});t&&t.success&&t.data&&(p(t.data),N(t.data))}catch(t){console.error("Error loading data:",t)}finally{m(!1)}},j=()=>{if(!i.trim()){x(c);return}const t=i.toLowerCase(),r=c.filter(s=>{const a=(s.questionText||"").toLowerCase(),A=g(s.answer).toLowerCase();return a.includes(t)||A.includes(t)});x(r)},N=t=>{const r=t.filter(a=>a.isCorrect===!0).length,s=JSON.stringify(t).length;f({total:t.length,correct:r,sizeKB:Math.round(s/1024*100)/100})},v=async t=>{if(confirm("–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç?"))try{await chrome.runtime.sendMessage({action:"deleteSavedAnswer",hash:t}),l()}catch(r){console.error("Error deleting item:",r),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏")}},w=async()=>{if(confirm("‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï! –≠—Ç–æ —É–¥–∞–ª–∏—Ç –í–°–ï —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?")&&confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!"))try{await chrome.runtime.sendMessage({action:"clearAllSavedAnswers"}),l(),alert("–í—Å–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã")}catch(t){console.error("Error clearing data:",t),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö")}},S=()=>{const t=JSON.stringify(c,null,2),r=new Blob([t],{type:"application/json"}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download=`lms-mai-saved-data-${new Date().toISOString().split("T")[0]}.json`,a.click(),URL.revokeObjectURL(s)},k=()=>{const t=chrome.runtime.getURL("html/auto-scan-react.html");window.open(t,"_blank")},g=t=>typeof t=="string"?t:Array.isArray(t)?t.join(", "):typeof t=="object"?t.text?t.text:t.value?t.value:JSON.stringify(t):String(t),C=t=>!t.statistics||t.statistics.totalAttempts===0?null:Math.round(t.statistics.correctAttempts/t.statistics.totalAttempts*100);return b?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-gray-300 border-t-gray-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mb-2",children:"–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsx("div",{className:"text-2xl font-semibold text-gray-900 mb-1",children:o.total}),e.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsx("div",{className:"text-2xl font-semibold text-green-600 mb-1",children:o.correct}),e.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"text-2xl font-semibold text-blue-600 mb-1",children:[Math.round(o.correct/o.total*100)||0,"%"]}),e.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"–¢–æ—á–Ω–æ—Å—Ç—å"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"text-2xl font-semibold text-gray-900 mb-1",children:[o.sizeKB," KB"]}),e.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"–†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö"})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"–ü–æ–∏—Å–∫ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏ –æ—Ç–≤–µ—Ç–∞–º...",className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none",value:i,onChange:t=>y(t.target.value)})]})}),e.jsxs("button",{onClick:l,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center gap-2 font-medium",children:[e.jsx(L,{className:"w-4 h-4"}),"–û–±–Ω–æ–≤–∏—Ç—å"]}),e.jsxs("button",{onClick:k,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2 font-medium",children:[e.jsx(E,{className:"w-4 h-4"}),"–ê–≤—Ç–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"]}),e.jsxs("button",{onClick:S,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center gap-2 font-medium",children:[e.jsx(q,{className:"w-4 h-4"}),"–≠–∫—Å–ø–æ—Ä—Ç"]}),e.jsxs("button",{onClick:w,className:"px-4 py-2 text-sm bg-red-50 text-red-600 rounded-md hover:bg-red-100 transition-colors flex items-center gap-2 font-medium",children:[e.jsx(B,{className:"w-4 h-4"}),"–û—á–∏—Å—Ç–∏—Ç—å"]})]})}),d.length===0?e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[e.jsx("div",{className:"text-4xl mb-3 text-gray-400",children:"üì≠"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"}),e.jsx("p",{className:"text-sm text-gray-500",children:i?"–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ":"–ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ —Ç–µ—Å—Ç–∞—Ö Moodle"})]}):e.jsx("div",{className:"space-y-4",children:d.map((t,r)=>{const s=C(t),a=new Date(t.timestamp).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[e.jsx("div",{className:"p-5 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["–í–æ–ø—Ä–æ—Å #",r+1]}),t.isCorrect===!0&&e.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-700 rounded text-xs font-medium border border-green-200",children:"–ü—Ä–∞–≤–∏–ª—å–Ω–æ"}),t.isCorrect===!1&&e.jsx("span",{className:"px-2 py-0.5 bg-red-50 text-red-700 rounded text-xs font-medium border border-red-200",children:"–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ"}),t.isCorrect===null&&e.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-600 rounded text-xs font-medium border border-gray-200",children:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-gray-500",children:[e.jsx("span",{children:a}),s!==null&&e.jsxs("span",{children:["–¢–æ—á–Ω–æ—Å—Ç—å: ",s,"%"]}),t.statistics&&t.statistics.totalAttempts>0&&e.jsxs("span",{children:["–ü–æ–ø—ã—Ç–æ–∫: ",t.statistics.totalAttempts]})]})]}),e.jsx("button",{onClick:()=>v(t.hash),className:"ml-4 px-3 py-1.5 text-xs text-red-600 hover:bg-red-50 rounded-md transition-colors font-medium",children:"–£–¥–∞–ª–∏—Ç—å"})]})}),e.jsxs("div",{className:"p-5 space-y-4",children:[t.questionImage&&e.jsx("div",{className:"rounded-md overflow-hidden border border-gray-200 bg-gray-50 p-3 flex justify-center items-center",children:e.jsx("img",{src:t.questionImage,alt:"–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞",className:"max-w-full max-h-[200px] w-auto h-auto object-contain",style:{maxWidth:"100%",maxHeight:"200px",width:"auto",height:"auto",objectFit:"contain"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2 uppercase tracking-wide",children:"–í–æ–ø—Ä–æ—Å"}),e.jsx("p",{className:"text-sm text-gray-900 leading-relaxed whitespace-pre-wrap",children:t.questionText||"–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2 uppercase tracking-wide",children:"–û—Ç–≤–µ—Ç"}),e.jsx("p",{className:`text-sm font-medium leading-relaxed whitespace-pre-wrap ${t.isCorrect===!0?"text-green-700":t.isCorrect===!1?"text-red-700":"text-gray-900"}`,children:g(t.answer)})]})]})]},t.hash)})})]})})}const u=document.getElementById("root");u&&D(u).render(e.jsx(M.StrictMode,{children:e.jsx(T,{})}));
//# sourceMappingURL=saved-data-react.js.map
