# Проверка работы сервера

## Проблема: Timeout при запросе к серверу

Если расширение выдает ошибку "Timeout: запрос к серверу превысил 10 секунд", проверьте следующее:

## 1. Проверка, что сервер работает

```bash
# На сервере
curl http://localhost:3000/api/health
```

Должен вернуться: `{"status":"ok","timestamp":...}`

## 2. Проверка, что код обновлен

```bash
# На сервере
cd ~/lms-server
git pull
sudo systemctl restart lms-api
```

## 3. Проверка endpoint /api/stats

```bash
# На сервере
curl http://localhost:3000/api/stats
```

Должен вернуться JSON с объектом `statistics` (может быть пустым `{}`, если данных нет).

## 4. Проверка извне

С вашего компьютера:

```bash
curl http://130.61.200.70:3000/api/health
curl http://130.61.200.70:3000/api/stats
```

## 5. Проверка логов сервера

```bash
# На сервере
sudo journalctl -u lms-api -f
```

Затем попробуйте подключиться извне - должны появиться записи в логах.

## 6. Проверка статуса сервиса

```bash
# На сервере
sudo systemctl status lms-api
```

Должен быть `active (running)`.

## 7. Проверка, что сервер слушает на правильном адресе

```bash
# На сервере
sudo ss -tlnp | grep 3000
```

Должно быть: `0.0.0.0:3000` или `*:3000`

## Возможные проблемы:

1. **Сервер не обновлен** - выполните `git pull` и `sudo systemctl restart lms-api`
2. **Сервер не запущен** - выполните `sudo systemctl start lms-api`
3. **Проблема с сетью** - проверьте iptables и Security List в Oracle Cloud
4. **Сервер зависает** - проверьте логи на ошибки

