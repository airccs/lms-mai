# Тестирование внешнего доступа

## Проверка на сервере

Если всё настроено правильно, но все еще 503, проверьте:

### 1. Проверьте логи в реальном времени

```bash
# На сервере запустите мониторинг логов
sudo journalctl -u lms-api -f
```

Затем с вашего компьютера попробуйте:
```
http://130.61.200.70:3000/api/health
```

Если в логах ничего не появляется - запросы не доходят до сервера.

### 2. Проверьте через telnet

С вашего компьютера:
```bash
telnet 130.61.200.70 3000
```

Если соединение устанавливается - порт открыт. Если нет - проблема в Security List или Route Table.

### 3. Проверьте через curl с таймаутом

```bash
curl -v --connect-timeout 10 http://130.61.200.70:3000/api/health
```

Флаг `-v` покажет детали подключения.

### 4. Проверьте с другого устройства

Попробуйте с мобильного интернета или другого компьютера, чтобы исключить блокировку на вашей стороне.

### 5. Проверьте Network Security Groups

В Oracle Cloud:
1. **Networking** → **Network Security Groups**
2. Проверьте, нет ли NSG, привязанных к вашему instance
3. Если есть - проверьте их Ingress Rules

### 6. Временное решение - попробуйте другой порт

Для диагностики попробуйте порт 8080:

```bash
# На сервере измените порт
sudo nano /etc/systemd/system/lms-api.service
# Измените: Environment="PORT=8080"

sudo systemctl daemon-reload
sudo systemctl restart lms-api
```

Затем добавьте правило для порта 8080 в Security List и проверьте:
```
http://130.61.200.70:8080/api/health
```

