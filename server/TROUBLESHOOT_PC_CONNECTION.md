# Устранение проблемы подключения с ПК

## Проблема: С ПК без VPN не открывается сервер, но с телефона работает

Если сервер доступен с телефона, но не с ПК, проблема скорее всего на стороне ПК.

## Диагностика

### 1. Проверка ping

```powershell
# В PowerShell на ПК
ping 130.61.200.70
```

Если ping не проходит - проблема с сетью или файрволом.

### 2. Проверка через telnet

```powershell
# В PowerShell на ПК
Test-NetConnection -ComputerName 130.61.200.70 -Port 3000
```

Или через telnet (если установлен):
```cmd
telnet 130.61.200.70 3000
```

### 3. Проверка через curl

```powershell
# В PowerShell на ПК
curl http://130.61.200.70:3000/api/health
```

### 4. Проверка Windows Firewall

1. Откройте **Панель управления** → **Брандмауэр Windows**
2. Проверьте, не блокирует ли файрвол исходящие соединения
3. Попробуйте временно отключить файрвол для теста

### 5. Проверка антивируса

- Временно отключите антивирус и проверьте подключение
- Некоторые антивирусы блокируют нестандартные порты

### 6. Проверка прокси-настроек

1. Откройте **Настройки** → **Сеть и Интернет** → **Прокси**
2. Убедитесь, что прокси не настроен или правильно настроен

### 7. Очистка DNS кэша

```powershell
# В PowerShell от имени администратора
ipconfig /flushdns
```

### 8. Проверка hosts файла

```powershell
# Проверьте, нет ли блокировки в hosts файле
notepad C:\Windows\System32\drivers\etc\hosts
```

Убедитесь, что там нет записи для `130.61.200.70`.

### 9. Проверка через другой браузер

Попробуйте открыть в:
- Chrome
- Firefox
- Edge
- Internet Explorer (если есть)

### 10. Проверка через командную строку

```cmd
# В cmd
curl http://130.61.200.70:3000/api/health
```

## Возможные решения

### Решение 1: Добавить исключение в Windows Firewall

```powershell
# В PowerShell от имени администратора
New-NetFirewallRule -DisplayName "Allow Oracle Server" -Direction Outbound -RemoteAddress 130.61.200.70 -RemotePort 3000 -Protocol TCP -Action Allow
```

### Решение 2: Проверить настройки антивируса

- Добавьте `130.61.200.70` в исключения антивируса
- Или временно отключите антивирус для теста

### Решение 3: Использовать другой порт

Если провайдер блокирует порт 3000, можно:
1. Изменить порт на сервере (например, 80 или 443)
2. Или использовать HTTPS с Let's Encrypt

### Решение 4: Проверить настройки роутера

Если ПК подключен через роутер:
- Проверьте настройки роутера
- Попробуйте подключить ПК напрямую к модему

### Решение 5: Использовать другой DNS

```powershell
# В PowerShell от имени администратора
netsh interface ip set dns "Ethernet" static 8.8.8.8
netsh interface ip add dns "Ethernet" 8.8.4.4 index=2
```

Или через настройки сети:
1. **Настройки** → **Сеть и Интернет** → **Ethernet** (или Wi-Fi)
2. **Изменить параметры адаптера**
3. Правый клик на адаптер → **Свойства**
4. **Протокол Интернета версии 4 (TCP/IPv4)** → **Свойства**
5. Использовать следующие адреса DNS:
   - Предпочитаемый: `8.8.8.8`
   - Альтернативный: `8.8.4.4`

## Быстрая проверка

Выполните эти команды на ПК и пришлите результаты:

```powershell
# 1. Ping
ping -n 4 130.61.200.70

# 2. Test-NetConnection
Test-NetConnection -ComputerName 130.61.200.70 -Port 3000

# 3. Curl
curl -v http://130.61.200.70:3000/api/health

# 4. Проверка DNS
nslookup 130.61.200.70
```

## Альтернативное решение: Использовать домен

Если проблема с IP-адресом, можно:
1. Настроить домен (например, через Cloudflare)
2. Использовать динамический DNS
3. Или использовать другой способ доступа

